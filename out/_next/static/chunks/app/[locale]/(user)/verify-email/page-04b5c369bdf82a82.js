(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5709,9958],{12249:(e,s,t)=>{Promise.resolve().then(t.bind(t,39163))},35695:(e,s,t)=>{"use strict";var a=t(18999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},39163:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(95155),r=t(12115),i=t(23464),n=t(35695),o=t(89958);let l=()=>{let e=(0,n.useSearchParams)(),s=(0,n.useRouter)(),[t,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),u=e.get("token"),p=(0,r.useRef)(!1);(0,r.useEffect)(()=>{u&&!p.current&&(p.current=!0,h(u))},[u]);let h=async e=>{d(!0);try{let t=await (0,o.al)({token:e});t.success?l(t.message):l(t.error),t.token&&(localStorage.setItem("auth_token",t.token),localStorage.setItem("user",JSON.stringify(t.user))),setTimeout(()=>{s.push("/de/auth/login")},2e3)}catch(s){let e="Error verifying email";i.A.isAxiosError(s)?l(s.message||e):l(e)}finally{d(!1)}},m=async()=>{let e=prompt("Bitte geben Sie Ihre E-Mail-Adresse ein:");if(e){d(!0);try{let s=await i.A.post("/api/auth/resend-verification",{email:e});l(s.data.message)}catch(a){let e="Fehler beim erneuten Senden der Best\xe4tigungs-E-Mail";if(i.A.isAxiosError(a)){var s,t;l((null==(t=a.response)||null==(s=t.data)?void 0:s.message)||e)}else l(e)}finally{d(!1)}}};return c?(0,a.jsx)("div",{className:"loading",children:"Processing..."}):(0,a.jsx)("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center py-5",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row justify-content-center",children:(0,a.jsxs)("div",{className:"col-md-6 col-lg-5",children:[(0,a.jsx)("div",{className:"card shadow-lg border-0 rounded-3",children:(0,a.jsxs)("div",{className:"card-body p-5 text-center",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"80px",height:"80px"},children:(0,a.jsx)("i",{className:"bi bi-envelope-check fs-2 text-primary"})}),(0,a.jsx)("h2",{className:"card-title fw-bold text-dark mb-2",children:"E-Mail-Verifizierung"}),(0,a.jsx)("p",{className:"text-muted",children:"\xdcberpr\xfcfen Sie Ihre E-Mails auf den Best\xe4tigungslink."})]}),t&&(0,a.jsxs)("div",{className:"alert ".concat(t.includes("success")?"alert-success alert-dismissible fade show":"alert-danger alert-dismissible fade show"," mb-4"),role:"alert",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsx)("i",{className:"bi ".concat(t.includes("success")?"bi-check-circle-fill":"bi-exclamation-triangle-fill"," me-2")}),(0,a.jsx)("span",{children:t})]}),(0,a.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert"})]}),!u&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("i",{className:"bi bi-envelope-x text-muted display-4"})}),(0,a.jsx)("p",{className:"text-muted mb-4",children:"Es wurde kein Best\xe4tigungscode gefunden. Bitte \xfcberpr\xfcfen Sie Ihren E-Mail-Posteingang und Ihren Spam-Ordner auf den Best\xe4tigungslink."}),(0,a.jsx)("button",{onClick:m,className:"btn btn-primary btn-lg px-4",disabled:c,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Senden..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-send me-2"}),"Best\xe4tigungs-E-Mail erneut senden"]})}),(0,a.jsx)("div",{className:"mt-4 pt-3 border-top",children:(0,a.jsxs)("small",{className:"text-muted",children:["Haben Sie immer noch Probleme? ",(0,a.jsx)("a",{href:"/contact-support",className:"text-decoration-none",children:"Contact Support"})]})})]}),c&&!t&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Laden..."})}),(0,a.jsx)("p",{className:"text-muted",children:"Bearbeitung Ihrer Anfrage..."})]})]})}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)("p",{className:"text-muted small",children:["Ben\xf6tigen Sie Hilfe? ",(0,a.jsx)("a",{href:"/help",className:"text-decoration-none",children:"Besuchen Sie unser Hilfezentrum"})]})})]})})})})}},89958:(e,s,t)=>{"use strict";t.d(s,{DY:()=>n,Lx:()=>o,al:()=>l,cd:()=>p,forgotPassword:()=>c,ue:()=>h,xw:()=>d,y4:()=>u});var a=t(99572),r=t(96446);let i=new a.Q,n=e=>i.create(r.oi,e),o=e=>i.create(r.wz,e),l=e=>i.get(r.fo,e),c=e=>i.create(r.s_,e),d=e=>i.update(r.Ou+e.token,e),u=()=>i.delete(r.b6),p=e=>i.create(r.GZ,e),h=e=>i.create(r.aV,e)},96446:(e,s,t)=>{"use strict";t.d(s,{F1:()=>r,GZ:()=>m,Hv:()=>i,ND:()=>v,OE:()=>o,OQ:()=>n,Ou:()=>p,W3:()=>l,Zs:()=>a,aF:()=>b,aV:()=>g,b6:()=>h,fo:()=>x,oi:()=>c,p6:()=>j,pY:()=>N,rk:()=>A,s_:()=>u,wz:()=>d,yZ:()=>f});let a="/api/qrcode/generate-qrcode",r="/api/qrcode/get-qrcode-data",i="/api/qrcode/get-qrcode-data-by-admin",n="/api/qrcode/verify-password",o="/api/qrcode/update-qrcode-data",l="/api/qrcode/get-qrcode-page-token",c="/api/auth/register",d="/api/auth/login",u="/api/auth/forgot-password",p="/api/auth/reset-password/",h="/api/auth/logout",m="/api/auth/verify-2fa-login",g="/api/auth/resend-2fa-code",x="/api/auth/verify-email",f="/api/dashboard/get-user-data-by-page",b="/api/dashboard/reset-qrcode-password",v="/api/dashboard/generate-qrcodes-by-count",N="/api/dashboard/get-all-qrcode-urls",j="/api/profile/get-user-profile-data",A="/api/profile/create-user-profile-data"},99572:(e,s,t)=>{"use strict";t.d(s,{Q:()=>l});var a=t(23464),r=t(49509);let i={API_URL:"https://deinetierfamilie.com/",AUTH_BACKEND:"Dummy",FIRE_BASE:{API_KEY:r.env.REACT_APP_APIKEY,AUTH_DOMAIN:r.env.REACT_APP_AUTHDOMAIN,PROJECTID:r.env.REACT_APP_PROJECTID,STORAGEBUCKET:r.env.REACT_APP_STORAGEBUCKET,MESSAGINGSENDERID:r.env.REACT_APP_MESSAGINGSENDERID,APPID:r.env.REACT_APP_APPID}};var n=t(79971);a.A.defaults.baseURL=i.API_URL;let o=i.API_URL;a.A.defaults.headers.post["Content-Type"]="application/json",a.A.interceptors.response.use(function(e){return e.data?e.data:e});class l{request(e){return new Promise((s,t)=>{this._axios.request(e).then(e=>{s(e.data)}).catch(e=>{var s;t((null==(s=e.response)?void 0:s.data)||e.message)})})}constructor(){var e=this;this._axios=a.A.create({baseURL:o,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.logout=()=>{(0,n.setCookie)("auth_token",""),window.location.href="/de/auth/login"},this.addRequestInterceptor=(e,s)=>{this._axios.interceptors.request.use(e,s)},this.addResponseInterceptor=(e,s)=>{this._axios.interceptors.response.use(e,s)},this.get=async function(s,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return e.request({method:"get",url:s,params:t,responseType:a})},this.create=async(e,s)=>await this.request(this.getOptionsConfig("post",e,s)),this.put=async(e,s)=>await this.request(this.getOptionsConfig("put",e,s)),this.update=async(e,s)=>await this.request(this.getOptionsConfig("patch",e,s)),this.delete=async(e,s)=>this.request({method:"delete",url:e,params:s}),this.getOptionsConfig=(e,s,t)=>{let a={"Content-Type":"application/json"};return t instanceof FormData&&(a["Content-Type"]="multipart/form-data"),{method:e,url:s,data:t,headers:a}},this._axios.interceptors.response.use(e=>e,e=>{var s,t,a,r,i,n,o,l;return((null==(s=e.response)?void 0:s.status)===401&&this.logout(),(null==(t=e.response)?void 0:t.status)===400||(null==(a=e.response)?void 0:a.status)===500||(null==(r=e.response)?void 0:r.status)===401)?Promise.resolve(e.response):(((null==(n=e.response)||null==(i=n.data)?void 0:i.message)=="Token is not valid"||(null==(l=e.response)||null==(o=l.data)?void 0:o.message)=="No token, authorization denied")&&this.logout(),Promise.reject(e))})}}}},e=>{var s=s=>e(e.s=s);e.O(0,[54,8441,1684,7358],()=>s(12249)),_N_E=e.O()}]);
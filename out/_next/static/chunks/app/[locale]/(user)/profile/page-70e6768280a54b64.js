(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4182],{29709:(e,s,t)=>{"use strict";t.d(s,{Fk:()=>r,uG:()=>a});let a=()=>localStorage.getItem("user")&&"undefined"!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")||"").role:null,r=()=>localStorage.getItem("user")&&"undefined"!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")||"").id:null},50931:(e,s,t)=>{"use strict";t.d(s,{r:()=>i});var a=t(95155),r=t(35695),l=t(77335);function i(e){return function(s){(0,r.useRouter)();let t=(0,l.G)(e=>e.auth.isAuthenticated);return t?(0,a.jsx)(e,{...s}):null}}},61042:(e,s,t)=>{"use strict";t.d(s,{SnackbarProvider:()=>o,d:()=>c});var a=t(95155),r=t(12115),l=t(75824),i=t(9665);let n=(0,r.createContext)(null),o=e=>{let{children:s}=e,[t,o]=(0,r.useState)({open:!1,message:"",severity:"info"}),c=()=>o({...t,open:!1});return(0,a.jsxs)(n.Provider,{value:(e,s)=>{o({open:!0,message:e,severity:s})},children:[s,(0,a.jsx)(l.A,{open:t.open,autoHideDuration:3e3,onClose:c,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{top:"80px !important"},children:(0,a.jsx)(i.A,{onClose:c,severity:t.severity,sx:{width:"100%"},children:t.message})})]})},c=()=>(0,r.useContext)(n)},77335:(e,s,t)=>{"use strict";t.d(s,{G:()=>l,j:()=>r});var a=t(34540);let r=()=>(0,a.wA)(),l=a.d4},81637:(e,s,t)=>{"use strict";t.d(s,{VM:()=>i,Vz:()=>n});var a=t(99572),r=t(96446);let l=new a.Q,i=e=>l.get(r.p6,e),n=e=>l.create(r.rk,e)},81764:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var a=t(95155),r=t(12115),l=t(91867),i=t(50931),n=t(97612),o=t(39365),c=t.n(o);t(30133);var d=t(62030),m=t(37129),h=t(62177),u=t(29709),p=t(81637),x=t(4088),g=t(89713),f=t(40203),j=t(29300),v=t.n(j);let N=e=>{let{name:s,placeholder:t,refCallback:l,errors:i,register:n,className:o,hidePasswordButton:c}=e,[d,m]=(0,r.useState)(!1);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"position-relative auth-pass-inputgroup mb-3",children:[(0,a.jsx)("input",{type:d?"text":"password",placeholder:t,name:s,id:s,ref:e=>{l&&l(e)},className:v()(o,{"is-invalid":i&&i[s]}),...n?n(s):{},autoComplete:s}),i&&i[s]?(0,a.jsxs)(x.A,{type:"invalid",children:[" ",i[s].message]}):null,!c&&(0,a.jsx)("button",{className:"btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted",type:"button",onClick:()=>{m(!d)},"data-password":d?"true":"false",children:(0,a.jsx)("i",{className:"ri-eye-fill align-middle"})})]})})},b=e=>{let{label:s,type:t,name:r,placeholder:l,register:i,errors:n,className:o,labelClassName:c,containerClass:d,refCallback:m,children:h,control:u,withoutLabel:p,hidePasswordButton:j,...b}=e;return(0,a.jsx)(a.Fragment,{children:"hidden"===t?(0,a.jsx)("input",{type:t,name:r,...i?i(r):{},...b}):(0,a.jsx)(a.Fragment,{children:"password"===t?(0,a.jsxs)(a.Fragment,{children:[s?(0,a.jsxs)(a.Fragment,{children:[!p&&(0,a.jsx)("div",{className:"float-end",children:(0,a.jsx)("a",{href:"auth-recoverpw",className:"text-muted",children:"Forgot password?"})}),(0,a.jsx)(g.A,{htmlFor:r,className:c,children:s})]}):null,(0,a.jsx)(N,{name:r,placeholder:l,refCallback:m,errors:n,register:i,className:o,withoutLabel:p,hidePasswordButton:j})]}):(0,a.jsx)(a.Fragment,{children:"checkbox"===t||"radio"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"form-check form-check-info font-size-16",children:[(0,a.jsx)(f.A,{className:o,type:t,name:r,id:r,ref:e=>{m&&m(e)},invalid:!!n&&!!n[r]||void 0,...i?i(r):{},...b}),(0,a.jsx)(g.A,{className:"form-check-label font-size-14",for:"remember-check",children:s})]}),n&&n[r]?(0,a.jsx)(x.A,{type:"invalid",children:n[r].message}):null]}):(0,a.jsxs)(a.Fragment,{children:[s?(0,a.jsx)(g.A,{htmlFor:r,className:c,children:s}):null,(0,a.jsx)("input",{type:t,placeholder:l,name:r,id:r,className:v()(o,{"is-invalid":n&&n[r]}),...i?i(r):{},...b,autoComplete:r,tag:"input"}),n&&n[r]?(0,a.jsx)(x.A,{type:"invalid",children:n[r].message}):null]})})})})},_=(0,i.r)(function(){let{showSuccess:e,showError:s}=(0,n.i)(),[t,i]=(0,r.useState)(),[o,x]=(0,r.useState)(!0),[g,f]=(0,r.useState)(!1),[j,v]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{let e={userId:(0,u.Fk)()},s=await (0,p.VM)(e);s.success&&(v(s.data.phone||""),P({first_name:s.data.first_name||"",last_name:s.data.last_name||"",street:s.data.street||"",postal_code:s.data.postal_code||"",city:s.data.city||"",email:s.data.email||"",social_media:s.data.social_media||""}))}catch(t){var e;console.error("Fetching User Profile Data error:",(null==(e=t.response)?void 0:e.data)||t.message),s(t.message||"Fehler beim Abrufen der Profildaten!")}finally{}})()},[]);let N={first_name:null==t?void 0:t.first_name,last_name:null==t?void 0:t.last_name,email:null==t?void 0:t.email},_=(0,d.t)(m.Ik().shape({first_name:m.Yj().required("Bitte Vornamen eingeben"),last_name:m.Yj().required("Bitte Nachname eingeben"),email:m.Yj().email("Dieser Wert sollte eine g\xfcltige E-Mail-Adresse sein.").required("Bitte geben Sie eine E-Mail-Adresse ein.")})),{handleSubmit:y,register:A,control:w,formState:{errors:E},reset:P}=(0,h.mN)({defaultValues:N,resolver:_}),C=async t=>{f(!0);let a={...t,phone:j,userId:(0,u.Fk)()};try{let t=await (0,p.Vz)(a);t.success?e(t.message):s(t.message)}catch(e){s(e.message||"Fehler beim Erstellen des Profils!")}finally{f(!1)}};return(0,a.jsx)("div",{style:{height:"100%",width:"100%"},className:"page-container container",children:(0,a.jsx)("div",{className:"row justify-content-center mb-4",children:(0,a.jsx)("div",{className:"col-md-7",children:(0,a.jsx)("div",{className:"card shadow",children:(0,a.jsx)("div",{className:"card-body",children:(0,a.jsx)("div",{className:"d-flex justify-content-center",children:(0,a.jsxs)("form",{onSubmit:y(C),className:"w-100",children:[(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"first_name",className:"form-label",children:"Vorname*"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(b,{type:"text",id:"first_name",name:"first_name",className:"form-control",register:A,errors:E,control:w})})]}),(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"last_name",className:"form-label",children:"Nachname*"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(b,{type:"text",id:"last_name",name:"last_name",className:"form-control",register:A,errors:E,control:w})})]}),(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"street",className:"form-label",children:"Stra\xdfe"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(b,{type:"text",id:"street",name:"street",className:"form-control",register:A,errors:E,control:w})})]}),(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"postal_code",className:"form-label",children:"Postleitzahl"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(b,{type:"text",id:"postal_code",name:"postal_code",className:"form-control",register:A,errors:E,control:w})})]}),(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"city",className:"form-label",children:"Stadt"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(b,{type:"text",id:"city",name:"city",className:"form-control",register:A,errors:E,control:w})})]}),(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Telefon"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(c(),{country:"de",inputStyle:{width:"100%",height:"38px"},value:j,onChange:e=>v(e)})})]}),(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"email",className:"form-label",children:"E-Mail*"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(b,{type:"text",id:"email",name:"email",className:"form-control",register:A,errors:E,control:w})})]}),(0,a.jsxs)("div",{className:"row mt-4 mb-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-12 d-flex align-items-center",children:(0,a.jsx)("label",{htmlFor:"social_media",className:"form-label",children:"Soziale Medien"})}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)(b,{type:"text",id:"social_media",name:"social_media",className:"form-control",register:A,errors:E,control:w})})]}),(0,a.jsx)("div",{className:"d-flex justify-content-end mt-5",children:(0,a.jsxs)("button",{type:"submit",className:"btn btn-secondary border-r-50",disabled:g,children:["Einreichen",g&&(0,a.jsx)(l.A,{animation:"border",size:"sm",className:"ms-2"})]})})]})})})})})})})})},83160:(e,s,t)=>{Promise.resolve().then(t.bind(t,81764))},96446:(e,s,t)=>{"use strict";t.d(s,{F1:()=>r,GZ:()=>p,Hv:()=>l,ND:()=>v,OE:()=>n,OQ:()=>i,Ou:()=>h,W3:()=>o,Zs:()=>a,aF:()=>j,aV:()=>x,b6:()=>u,fo:()=>g,oi:()=>c,p6:()=>b,pY:()=>N,rk:()=>_,s_:()=>m,wz:()=>d,yZ:()=>f});let a="/api/qrcode/generate-qrcode",r="/api/qrcode/get-qrcode-data",l="/api/qrcode/get-qrcode-data-by-admin",i="/api/qrcode/verify-password",n="/api/qrcode/update-qrcode-data",o="/api/qrcode/get-qrcode-page-token",c="/api/auth/register",d="/api/auth/login",m="/api/auth/forgot-password",h="/api/auth/reset-password/",u="/api/auth/logout",p="/api/auth/verify-2fa-login",x="/api/auth/resend-2fa-code",g="/api/auth/verify-email",f="/api/dashboard/get-user-data-by-page",j="/api/dashboard/reset-qrcode-password",v="/api/dashboard/generate-qrcodes-by-count",N="/api/dashboard/get-all-qrcode-urls",b="/api/profile/get-user-profile-data",_="/api/profile/create-user-profile-data"},97612:(e,s,t)=>{"use strict";t.d(s,{i:()=>r});var a=t(61042);let r=()=>{let e=(0,a.d)();return{showSuccess:s=>e(s,"success"),showError:s=>e(s,"error"),showWarning:s=>e(s,"warning"),showInfo:s=>e(s,"info")}}},99572:(e,s,t)=>{"use strict";t.d(s,{Q:()=>o});var a=t(23464),r=t(49509);let l={API_URL:"https://deinetierfamilie.com/",AUTH_BACKEND:"Dummy",FIRE_BASE:{API_KEY:r.env.REACT_APP_APIKEY,AUTH_DOMAIN:r.env.REACT_APP_AUTHDOMAIN,PROJECTID:r.env.REACT_APP_PROJECTID,STORAGEBUCKET:r.env.REACT_APP_STORAGEBUCKET,MESSAGINGSENDERID:r.env.REACT_APP_MESSAGINGSENDERID,APPID:r.env.REACT_APP_APPID}};var i=t(79971);a.A.defaults.baseURL=l.API_URL;let n=l.API_URL;a.A.defaults.headers.post["Content-Type"]="application/json",a.A.interceptors.response.use(function(e){return e.data?e.data:e});class o{request(e){return new Promise((s,t)=>{this._axios.request(e).then(e=>{s(e.data)}).catch(e=>{var s;t((null==(s=e.response)?void 0:s.data)||e.message)})})}constructor(){var e=this;this._axios=a.A.create({baseURL:n,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.logout=()=>{(0,i.setCookie)("auth_token",""),window.location.href="/de/auth/login"},this.addRequestInterceptor=(e,s)=>{this._axios.interceptors.request.use(e,s)},this.addResponseInterceptor=(e,s)=>{this._axios.interceptors.response.use(e,s)},this.get=async function(s,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return e.request({method:"get",url:s,params:t,responseType:a})},this.create=async(e,s)=>await this.request(this.getOptionsConfig("post",e,s)),this.put=async(e,s)=>await this.request(this.getOptionsConfig("put",e,s)),this.update=async(e,s)=>await this.request(this.getOptionsConfig("patch",e,s)),this.delete=async(e,s)=>this.request({method:"delete",url:e,params:s}),this.getOptionsConfig=(e,s,t)=>{let a={"Content-Type":"application/json"};return t instanceof FormData&&(a["Content-Type"]="multipart/form-data"),{method:e,url:s,data:t,headers:a}},this._axios.interceptors.response.use(e=>e,e=>{var s,t,a,r,l,i,n,o;return((null==(s=e.response)?void 0:s.status)===401&&this.logout(),(null==(t=e.response)?void 0:t.status)===400||(null==(a=e.response)?void 0:a.status)===500||(null==(r=e.response)?void 0:r.status)===401)?Promise.resolve(e.response):(((null==(i=e.response)||null==(l=i.data)?void 0:l.message)=="Token is not valid"||(null==(o=e.response)||null==(n=o.data)?void 0:n.message)=="No token, authorization denied")&&this.logout(),Promise.reject(e))})}}}},e=>{var s=s=>e(e.s=s);e.O(0,[7540,54,1911,9110,4540,3875,2460,2667,8441,1684,7358],()=>s(83160)),_N_E=e.O()}]);
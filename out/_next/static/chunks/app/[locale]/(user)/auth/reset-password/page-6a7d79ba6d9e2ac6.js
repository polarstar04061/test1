(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2095,9958],{18452:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let a=t(12115).createContext(null);a.displayName="CardHeaderContext";let r=a},35821:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(95155),r=t(12115),n=t(35695),o=t(32214),i=t(79835),d=t(33622),l=t(60902),c=t(91867),u=t(75049),p=t(68309),h=t(1756),m=t(62177),g=t(89958),A=t(97612);let w=p.Ik({password:p.Yj().min(8,"Das Passwort muss mindestens 8 Zeichen lang sein.").regex(/[A-Z]/,"Muss mindestens einen Gro\xdfbuchstaben enthalten").regex(/[a-z]/,"Muss mindestens einen Kleinbuchstaben enthalten").regex(/[0-9]/,"Muss mindestens eine Zahl enthalten").regex(/[^A-Za-z0-9]/,"Muss mindestens ein Sonderzeichen enthalten"),confirmPassword:p.Yj()}).refine(e=>e.password===e.confirmPassword,{message:"Passw\xf6rter stimmen nicht \xfcberein",path:["confirmPassword"]});function f(e){let{params:s,searchParams:t}=e,p=(0,n.useRouter)(),{showSuccess:f,showError:v}=(0,A.i)(),[x,P]=(0,r.useState)("de"),[j,y]=(0,r.useState)(null),[C,b]=(0,r.useState)(""),[_,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{Promise.all([s,t]).then(e=>{let[s,t]=e;P(s.locale),y(t.oobCode||null)})},[s,t]);let{register:N,handleSubmit:I,watch:q,formState:{errors:R,isSubmitting:k,isValid:S,dirtyFields:T}}=(0,m.mN)({resolver:(0,h.u)(w),mode:"onChange"}),z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return 0;let s=0;return e.length>=8&&(s+=25),/[A-Z]/.test(e)&&(s+=25),/[0-9]/.test(e)&&(s+=25),/[^A-Za-z0-9]/.test(e)&&(s+=25),s}(q("password")),D=async e=>{try{let s={token:j,password:e.password},t=await (0,g.xw)(s);t.success?f(t.message):v(t.message),setTimeout(()=>p.push("/".concat(x,"/auth/login")),2e3)}catch(e){v(e.message)}};return(0,a.jsxs)(u.A,{title:"Passwort zur\xfccksetzen",locale:x,children:[C&&(0,a.jsx)(o.A,{variant:"danger",children:C}),_&&(0,a.jsx)(o.A,{variant:"success",children:"Passwort erfolgreich zur\xfcckgesetzt! Weiterleitung zur Anmeldung..."}),(0,a.jsxs)(i.A,{onSubmit:I(D),children:[(0,a.jsxs)(i.A.Group,{className:"mb-3",controlId:"password",children:[(0,a.jsx)(i.A.Label,{children:"Neues Passwort"}),(0,a.jsx)(i.A.Control,{type:"password",isInvalid:!!R.password,...N("password"),placeholder:"Mindestens 8 Zeichen"}),R.password&&(0,a.jsx)(i.A.Control.Feedback,{type:"invalid",children:R.password.message}),T.password&&(0,a.jsx)(d.A,{now:z,className:"mt-2",style:{height:"10px"},variant:z<50?"danger":z<75?"warning":"success"})]}),(0,a.jsxs)(i.A.Group,{className:"mb-3",controlId:"confirmPassword",children:[(0,a.jsx)(i.A.Label,{children:"Passwort best\xe4tigen"}),(0,a.jsx)(i.A.Control,{type:"password",isInvalid:!!R.confirmPassword,...N("confirmPassword"),placeholder:"Geben Sie Ihr Passwort erneut ein."}),R.confirmPassword&&(0,a.jsx)(i.A.Control.Feedback,{type:"invalid",children:R.confirmPassword.message})]}),(0,a.jsx)(l.A,{variant:"primary",type:"submit",disabled:k||!S||!j,className:"w-100",children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Zur\xfccksetzen..."]}):"Passwort zur\xfccksetzen"})]})]})}},58162:(e,s,t)=>{Promise.resolve().then(t.bind(t,35821))},61042:(e,s,t)=>{"use strict";t.d(s,{SnackbarProvider:()=>d,d:()=>l});var a=t(95155),r=t(12115),n=t(75824),o=t(9665);let i=(0,r.createContext)(null),d=e=>{let{children:s}=e,[t,d]=(0,r.useState)({open:!1,message:"",severity:"info"}),l=()=>d({...t,open:!1});return(0,a.jsxs)(i.Provider,{value:(e,s)=>{d({open:!0,message:e,severity:s})},children:[s,(0,a.jsx)(n.A,{open:t.open,autoHideDuration:3e3,onClose:l,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{top:"80px !important"},children:(0,a.jsx)(o.A,{onClose:l,severity:t.severity,sx:{width:"100%"},children:t.message})})]})},l=()=>(0,r.useContext)(i)},75049:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(95155),r=t(92809),n=t(76355),o=t(6874),i=t.n(o);function d(e){let{children:s,title:t,locale:o="en"}=e;return(0,a.jsx)(r.A,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[(0,a.jsx)(n.A,{children:(0,a.jsxs)(n.A.Body,{className:"shadow",children:[(0,a.jsx)("h2",{className:"text-center mb-4",children:t}),s]})}),(0,a.jsx)("div",{className:"w-100 text-center mt-2",children:(0,a.jsx)(i(),{href:"/".concat(o,"/auth/login"),children:"Zur\xfcck zur Anmeldung"})})]})})}},89958:(e,s,t)=>{"use strict";t.d(s,{DY:()=>o,Lx:()=>i,al:()=>d,cd:()=>p,forgotPassword:()=>l,ue:()=>h,xw:()=>c,y4:()=>u});var a=t(99572),r=t(96446);let n=new a.Q,o=e=>n.create(r.oi,e),i=e=>n.create(r.wz,e),d=e=>n.get(r.fo,e),l=e=>n.create(r.s_,e),c=e=>n.update(r.Ou+e.token,e),u=()=>n.delete(r.b6),p=e=>n.create(r.GZ,e),h=e=>n.create(r.aV,e)},91867:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(29300),r=t.n(a),n=t(12115),o=t(97390),i=t(95155);let d=n.forwardRef((e,s)=>{let{bsPrefix:t,variant:a,animation:n="border",size:d,as:l="div",className:c,...u}=e;t=(0,o.oU)(t,"spinner");let p="".concat(t,"-").concat(n);return(0,i.jsx)(l,{ref:s,...u,className:r()(c,p,d&&"".concat(p,"-").concat(d),a&&"text-".concat(a))})});d.displayName="Spinner";let l=d},96446:(e,s,t)=>{"use strict";t.d(s,{F1:()=>r,GZ:()=>m,Hv:()=>n,ND:()=>v,OE:()=>i,OQ:()=>o,Ou:()=>p,W3:()=>d,Zs:()=>a,aF:()=>f,aV:()=>g,b6:()=>h,fo:()=>A,oi:()=>l,p6:()=>P,pY:()=>x,rk:()=>j,s_:()=>u,wz:()=>c,yZ:()=>w});let a="/api/qrcode/generate-qrcode",r="/api/qrcode/get-qrcode-data",n="/api/qrcode/get-qrcode-data-by-admin",o="/api/qrcode/verify-password",i="/api/qrcode/update-qrcode-data",d="/api/qrcode/get-qrcode-page-token",l="/api/auth/register",c="/api/auth/login",u="/api/auth/forgot-password",p="/api/auth/reset-password/",h="/api/auth/logout",m="/api/auth/verify-2fa-login",g="/api/auth/resend-2fa-code",A="/api/auth/verify-email",w="/api/dashboard/get-user-data-by-page",f="/api/dashboard/reset-qrcode-password",v="/api/dashboard/generate-qrcodes-by-count",x="/api/dashboard/get-all-qrcode-urls",P="/api/profile/get-user-profile-data",j="/api/profile/create-user-profile-data"},97612:(e,s,t)=>{"use strict";t.d(s,{i:()=>r});var a=t(61042);let r=()=>{let e=(0,a.d)();return{showSuccess:s=>e(s,"success"),showError:s=>e(s,"error"),showWarning:s=>e(s,"warning"),showInfo:s=>e(s,"info")}}},99572:(e,s,t)=>{"use strict";t.d(s,{Q:()=>d});var a=t(23464),r=t(49509);let n={API_URL:"https://deinetierfamilie.com/",AUTH_BACKEND:"Dummy",FIRE_BASE:{API_KEY:r.env.REACT_APP_APIKEY,AUTH_DOMAIN:r.env.REACT_APP_AUTHDOMAIN,PROJECTID:r.env.REACT_APP_PROJECTID,STORAGEBUCKET:r.env.REACT_APP_STORAGEBUCKET,MESSAGINGSENDERID:r.env.REACT_APP_MESSAGINGSENDERID,APPID:r.env.REACT_APP_APPID}};var o=t(79971);a.A.defaults.baseURL=n.API_URL;let i=n.API_URL;a.A.defaults.headers.post["Content-Type"]="application/json",a.A.interceptors.response.use(function(e){return e.data?e.data:e});class d{request(e){return new Promise((s,t)=>{this._axios.request(e).then(e=>{s(e.data)}).catch(e=>{var s;t((null==(s=e.response)?void 0:s.data)||e.message)})})}constructor(){var e=this;this._axios=a.A.create({baseURL:i,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.logout=()=>{(0,o.setCookie)("auth_token",""),window.location.href="/de/auth/login"},this.addRequestInterceptor=(e,s)=>{this._axios.interceptors.request.use(e,s)},this.addResponseInterceptor=(e,s)=>{this._axios.interceptors.response.use(e,s)},this.get=async function(s,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return e.request({method:"get",url:s,params:t,responseType:a})},this.create=async(e,s)=>await this.request(this.getOptionsConfig("post",e,s)),this.put=async(e,s)=>await this.request(this.getOptionsConfig("put",e,s)),this.update=async(e,s)=>await this.request(this.getOptionsConfig("patch",e,s)),this.delete=async(e,s)=>this.request({method:"delete",url:e,params:s}),this.getOptionsConfig=(e,s,t)=>{let a={"Content-Type":"application/json"};return t instanceof FormData&&(a["Content-Type"]="multipart/form-data"),{method:e,url:s,data:t,headers:a}},this._axios.interceptors.response.use(e=>e,e=>{var s,t,a,r,n,o,i,d;return((null==(s=e.response)?void 0:s.status)===401&&this.logout(),(null==(t=e.response)?void 0:t.status)===400||(null==(a=e.response)?void 0:a.status)===500||(null==(r=e.response)?void 0:r.status)===401)?Promise.resolve(e.response):(((null==(o=e.response)||null==(n=o.data)?void 0:n.message)=="Token is not valid"||(null==(d=e.response)||null==(i=d.data)?void 0:i.message)=="No token, authorization denied")&&this.logout(),Promise.reject(e))})}}}},e=>{var s=s=>e(e.s=s);e.O(0,[54,1911,9110,4816,6874,2471,9835,2460,3478,8441,1684,7358],()=>s(58162)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7417,9958],{33376:(e,s,t)=>{Promise.resolve().then(t.bind(t,99935))},61042:(e,s,t)=>{"use strict";t.d(s,{SnackbarProvider:()=>l,d:()=>d});var a=t(95155),n=t(12115),r=t(75824),i=t(9665);let o=(0,n.createContext)(null),l=e=>{let{children:s}=e,[t,l]=(0,n.useState)({open:!1,message:"",severity:"info"}),d=()=>l({...t,open:!1});return(0,a.jsxs)(o.Provider,{value:(e,s)=>{l({open:!0,message:e,severity:s})},children:[s,(0,a.jsx)(r.A,{open:t.open,autoHideDuration:3e3,onClose:d,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{top:"80px !important"},children:(0,a.jsx)(i.A,{onClose:d,severity:t.severity,sx:{width:"100%"},children:t.message})})]})},d=()=>(0,n.useContext)(o)},67209:(e,s,t)=>{"use strict";t.d(s,{Ay:()=>i,LA:()=>n,ri:()=>r});let a=(0,t(66439).Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1},reducers:{setCredentials:(e,s)=>{e.token=s.payload.token,e.isAuthenticated=!0},logout:e=>{e.token=null,e.isAuthenticated=!1}}}),{setCredentials:n,logout:r}=a.actions,i=a.reducer},75049:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(95155),n=t(92809),r=t(76355),i=t(6874),o=t.n(i);function l(e){let{children:s,title:t,locale:i="en"}=e;return(0,a.jsx)(n.A,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[(0,a.jsx)(r.A,{children:(0,a.jsxs)(r.A.Body,{className:"shadow",children:[(0,a.jsx)("h2",{className:"text-center mb-4",children:t}),s]})}),(0,a.jsx)("div",{className:"w-100 text-center mt-2",children:(0,a.jsx)(o(),{href:"/".concat(i,"/auth/login"),children:"Zur\xfcck zur Anmeldung"})})]})})}},77335:(e,s,t)=>{"use strict";t.d(s,{G:()=>r,j:()=>n});var a=t(34540);let n=()=>(0,a.wA)(),r=a.d4},89958:(e,s,t)=>{"use strict";t.d(s,{DY:()=>i,Lx:()=>o,al:()=>l,cd:()=>h,forgotPassword:()=>d,ue:()=>p,xw:()=>c,y4:()=>u});var a=t(99572),n=t(96446);let r=new a.Q,i=e=>r.create(n.oi,e),o=e=>r.create(n.wz,e),l=e=>r.get(n.fo,e),d=e=>r.create(n.s_,e),c=e=>r.update(n.Ou+e.token,e),u=()=>r.delete(n.b6),h=e=>r.create(n.GZ,e),p=e=>r.create(n.aV,e)},96446:(e,s,t)=>{"use strict";t.d(s,{F1:()=>n,GZ:()=>m,Hv:()=>r,ND:()=>f,OE:()=>o,OQ:()=>i,Ou:()=>h,W3:()=>l,Zs:()=>a,aF:()=>w,aV:()=>g,b6:()=>p,fo:()=>A,oi:()=>d,p6:()=>j,pY:()=>x,rk:()=>P,s_:()=>u,wz:()=>c,yZ:()=>v});let a="/api/qrcode/generate-qrcode",n="/api/qrcode/get-qrcode-data",r="/api/qrcode/get-qrcode-data-by-admin",i="/api/qrcode/verify-password",o="/api/qrcode/update-qrcode-data",l="/api/qrcode/get-qrcode-page-token",d="/api/auth/register",c="/api/auth/login",u="/api/auth/forgot-password",h="/api/auth/reset-password/",p="/api/auth/logout",m="/api/auth/verify-2fa-login",g="/api/auth/resend-2fa-code",A="/api/auth/verify-email",v="/api/dashboard/get-user-data-by-page",w="/api/dashboard/reset-qrcode-password",f="/api/dashboard/generate-qrcodes-by-count",x="/api/dashboard/get-all-qrcode-urls",j="/api/profile/get-user-profile-data",P="/api/profile/create-user-profile-data"},97612:(e,s,t)=>{"use strict";t.d(s,{i:()=>n});var a=t(61042);let n=()=>{let e=(0,a.d)();return{showSuccess:s=>e(s,"success"),showError:s=>e(s,"error"),showWarning:s=>e(s,"warning"),showInfo:s=>e(s,"info")}}},99572:(e,s,t)=>{"use strict";t.d(s,{Q:()=>l});var a=t(23464),n=t(49509);let r={API_URL:"https://deinetierfamilie.com/",AUTH_BACKEND:"Dummy",FIRE_BASE:{API_KEY:n.env.REACT_APP_APIKEY,AUTH_DOMAIN:n.env.REACT_APP_AUTHDOMAIN,PROJECTID:n.env.REACT_APP_PROJECTID,STORAGEBUCKET:n.env.REACT_APP_STORAGEBUCKET,MESSAGINGSENDERID:n.env.REACT_APP_MESSAGINGSENDERID,APPID:n.env.REACT_APP_APPID}};var i=t(79971);a.A.defaults.baseURL=r.API_URL;let o=r.API_URL;a.A.defaults.headers.post["Content-Type"]="application/json",a.A.interceptors.response.use(function(e){return e.data?e.data:e});class l{request(e){return new Promise((s,t)=>{this._axios.request(e).then(e=>{s(e.data)}).catch(e=>{var s;t((null==(s=e.response)?void 0:s.data)||e.message)})})}constructor(){var e=this;this._axios=a.A.create({baseURL:o,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.logout=()=>{(0,i.setCookie)("auth_token",""),window.location.href="/de/auth/login"},this.addRequestInterceptor=(e,s)=>{this._axios.interceptors.request.use(e,s)},this.addResponseInterceptor=(e,s)=>{this._axios.interceptors.response.use(e,s)},this.get=async function(s,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return e.request({method:"get",url:s,params:t,responseType:a})},this.create=async(e,s)=>await this.request(this.getOptionsConfig("post",e,s)),this.put=async(e,s)=>await this.request(this.getOptionsConfig("put",e,s)),this.update=async(e,s)=>await this.request(this.getOptionsConfig("patch",e,s)),this.delete=async(e,s)=>this.request({method:"delete",url:e,params:s}),this.getOptionsConfig=(e,s,t)=>{let a={"Content-Type":"application/json"};return t instanceof FormData&&(a["Content-Type"]="multipart/form-data"),{method:e,url:s,data:t,headers:a}},this._axios.interceptors.response.use(e=>e,e=>{var s,t,a,n,r,i,o,l;return((null==(s=e.response)?void 0:s.status)===401&&this.logout(),(null==(t=e.response)?void 0:t.status)===400||(null==(a=e.response)?void 0:a.status)===500||(null==(n=e.response)?void 0:n.status)===401)?Promise.resolve(e.response):(((null==(i=e.response)||null==(r=i.data)?void 0:r.message)=="Token is not valid"||(null==(l=e.response)||null==(o=l.data)?void 0:o.message)=="No token, authorization denied")&&this.logout(),Promise.reject(e))})}}},99935:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var a=t(95155),n=t(12115),r=t(35695),i=t(32214),o=t(79835),l=t(33622),d=t(60902),c=t(75049),u=t(6874),h=t.n(u),p=t(89958),m=t(97612),g=t(79971),A=t(77335),v=t(67209),w=t(68309),f=t(1756),x=t(62177);let j=w.Ik({email:w.Yj().min(1,"E-Mail ist erforderlich").email("Ung\xfcltige E-Mail-Adresse"),password:w.Yj().min(8,"Das Passwort muss mindestens 8 Zeichen lang sein.").regex(/[A-Z]/,"Muss mindestens einen Gro\xdfbuchstaben enthalten").regex(/[a-z]/,"Muss mindestens einen Kleinbuchstaben enthalten").regex(/[0-9]/,"Muss mindestens eine Zahl enthalten").regex(/[^A-Za-z0-9]/,"Muss mindestens ein Sonderzeichen enthalten"),confirmPassword:w.Yj()}).refine(e=>e.password===e.confirmPassword,{message:"Passw\xf6rter stimmen nicht \xfcberein",path:["confirmPassword"]});function P(){var e,s;let t=(0,r.useParams)().locale,{showSuccess:u,showError:w}=(0,m.i)(),[P,y]=(0,n.useState)(""),[C,b]=(0,n.useState)(!1);(0,r.useRouter)();let _=(0,A.j)();(0,n.useEffect)(()=>{(0,g.setCookie)("auth_token",""),_((0,v.ri)())},[]);let{register:E,handleSubmit:k,watch:N,formState:{errors:q,isSubmitting:I,isValid:R,dirtyFields:T}}=(0,x.mN)({resolver:(0,f.u)(j),mode:"onChange"}),D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return 0;let s=0;return e.length>=8&&(s+=25),/[A-Z]/.test(e)&&(s+=25),/[0-9]/.test(e)&&(s+=25),/[^A-Za-z0-9]/.test(e)&&(s+=25),s}(N("password")),S=async e=>{y(""),b(!0);try{let s={email:e.email,password:e.password},t=await (0,p.DY)(s);t.success?u(t.message||"Registrierung erfolgreich"):w(t.message||"Backend error!")}catch(e){w(e.message),y(e.message)}finally{b(!1)}};return(0,a.jsxs)(c.A,{title:"Registrieren",children:[P&&(0,a.jsx)(i.A,{variant:"danger",children:P}),(0,a.jsxs)(o.A,{onSubmit:k(S),children:[(0,a.jsxs)(o.A.Group,{className:"mb-3",children:[(0,a.jsx)(o.A.Label,{children:"E-Mail"}),(0,a.jsx)(o.A.Control,{type:"email",isInvalid:!!q.email,...E("email")}),(0,a.jsx)(o.A.Control.Feedback,{type:"invalid",children:null==(e=q.email)?void 0:e.message})]}),(0,a.jsxs)(o.A.Group,{className:"mb-3",children:[(0,a.jsx)(o.A.Label,{children:"Passwort"}),(0,a.jsx)(o.A.Control,{type:"password",isInvalid:!!q.password,...E("password"),placeholder:"Mindestens 8 Zeichen"}),q.password&&(0,a.jsx)(o.A.Control.Feedback,{type:"invalid",children:q.password.message}),T.password&&(0,a.jsx)(l.A,{now:D,className:"mt-2",style:{height:"7px"},variant:D<50?"danger":D<75?"warning":"success"})]}),(0,a.jsxs)(o.A.Group,{className:"mb-3",children:[(0,a.jsx)(o.A.Label,{children:"Passwort best\xe4tigen"}),(0,a.jsx)(o.A.Control,{type:"password",isInvalid:!!q.confirmPassword,...E("confirmPassword")}),(0,a.jsx)(o.A.Control.Feedback,{type:"invalid",children:null==(s=q.confirmPassword)?void 0:s.message})]}),(0,a.jsx)(d.A,{disabled:C,className:"w-100",type:"submit",children:C?"Anmelden...":"Anmelden"})]}),(0,a.jsxs)("div",{className:"w-100 d-flex justify-content-between text-center mt-4",children:[(0,a.jsx)(h(),{href:"/".concat(t,"/auth/forgot-password"),children:"Passwort vergessen?"}),(0,a.jsx)(h(),{href:"/".concat(t,"/auth/login"),children:"Anmelden"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[54,1911,9110,4816,4540,6874,2471,9835,2420,2460,3478,8441,1684,7358],()=>s(33376)),_N_E=e.O()}]);
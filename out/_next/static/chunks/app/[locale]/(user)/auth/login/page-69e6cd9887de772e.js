(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2869,9958],{32214:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var a=s(29300),r=s.n(a),n=s(12115),i=s(91497),l=s(37150),o=s(97390),d=s(58724),c=s(95155);let u=(0,d.A)("h4");u.displayName="DivStyledAsH4";let m=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n=u,...i}=e;return a=(0,o.oU)(a,"alert-heading"),(0,c.jsx)(n,{ref:t,className:r()(s,a),...i})});m.displayName="AlertHeading";var h=s(29591);let p=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n=h.A,...i}=e;return a=(0,o.oU)(a,"alert-link"),(0,c.jsx)(n,{ref:t,className:r()(s,a),...i})});p.displayName="AlertLink";var f=s(34748),x=s(77706);let g=n.forwardRef((e,t)=>{let{bsPrefix:s,show:a=!0,closeLabel:n="Close alert",closeVariant:d,className:u,children:m,variant:h="primary",onClose:p,dismissible:g,transition:v=f.A,...b}=(0,i.Zw)(e,{show:"onClose"}),j=(0,o.oU)(s,"alert"),A=(0,l.A)(e=>{p&&p(!1,e)}),N=!0===v?f.A:v,y=(0,c.jsxs)("div",{role:"alert",...!N?b:void 0,ref:t,className:r()(u,j,h&&"".concat(j,"-").concat(h),g&&"".concat(j,"-dismissible")),children:[g&&(0,c.jsx)(x.A,{onClick:A,"aria-label":n,variant:d}),m]});return N?(0,c.jsx)(N,{unmountOnExit:!0,...b,ref:void 0,in:a,children:y}):a?y:null});g.displayName="Alert";let v=Object.assign(g,{Link:p,Heading:m})},61042:(e,t,s)=>{"use strict";s.d(t,{SnackbarProvider:()=>o,d:()=>d});var a=s(95155),r=s(12115),n=s(75824),i=s(9665);let l=(0,r.createContext)(null),o=e=>{let{children:t}=e,[s,o]=(0,r.useState)({open:!1,message:"",severity:"info"}),d=()=>o({...s,open:!1});return(0,a.jsxs)(l.Provider,{value:(e,t)=>{o({open:!0,message:e,severity:t})},children:[t,(0,a.jsx)(n.A,{open:s.open,autoHideDuration:3e3,onClose:d,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{top:"80px !important"},children:(0,a.jsx)(i.A,{onClose:d,severity:s.severity,sx:{width:"100%"},children:s.message})})]})},d=()=>(0,r.useContext)(l)},66692:(e,t,s)=>{Promise.resolve().then(s.bind(s,70835))},67209:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>i,LA:()=>r,ri:()=>n});let a=(0,s(66439).Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1},reducers:{setCredentials:(e,t)=>{e.token=t.payload.token,e.isAuthenticated=!0},logout:e=>{e.token=null,e.isAuthenticated=!1}}}),{setCredentials:r,logout:n}=a.actions,i=a.reducer},70835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(95155),r=s(12115),n=s(35695),i=s(32214),l=s(79835),o=s(60902),d=s(75049),c=s(6874),u=s.n(c),m=s(89958),h=s(97612),p=s(79971),f=s(77335),x=s(67209);function g(){let e=(0,n.useParams)().locale,{showSuccess:t,showError:s}=(0,h.i)(),[c,g]=(0,r.useState)(""),[v,b]=(0,r.useState)(""),[j,A]=(0,r.useState)(""),[N,y]=(0,r.useState)(!1),[w,C]=(0,r.useState)({}),[k,E]=(0,r.useState)(""),[S,P]=(0,r.useState)("login"),[R,_]=(0,r.useState)(""),[I,T]=(0,r.useState)(""),[O,q]=(0,r.useState)(""),[U,F]=(0,r.useState)(0),[D,L]=(0,r.useState)(!1),H=(0,n.useRouter)(),M=(0,f.j)();(0,r.useEffect)(()=>{(0,p.setCookie)("auth_token",""),M((0,x.ri)())},[]),(0,r.useEffect)(()=>{if(U>0){let e=setTimeout(()=>F(U-1),1e3);return()=>clearTimeout(e)}},[U]);let G=()=>{let e={};return c.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)||(e.email="Ung\xfcltige E-Mail-Adresse"):e.email="E-Mail ist erforderlich",v||(e.password="Passwort ist erforderlich"),C(e),0===Object.keys(e).length},B=async e=>{if(e.preventDefault(),A(""),G()){y(!0);try{let e=await (0,m.Lx)({email:c,password:v});e.success?(_(e.twoFAToken),T(e.tempAuthToken),P("2fa"),q("2FA-Code an Ihre E-Mail-Adresse gesendet"),F(60),t(e.message)):s(e.message||"Backend-Fehler!")}catch(e){s(e.message),A(e.message)}finally{y(!1)}}},z=async e=>{e.preventDefault(),y(!0),q("");try{let e=await (0,m.cd)({twoFAToken:R,tempAuthToken:I,code:k});e.success?(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),M((0,x.LA)({token:e.token})),H.push("/de/")):s(e.error)}catch(e){e.twoFAToken&&_(e.twoFAToken),q(e.error||"\xdcberpr\xfcfung fehlgeschlagen"),s(e.error)}finally{y(!1)}},Z=async()=>{if(!(U>0)){L(!0),q("");try{let e=await (0,m.ue)({tempAuthToken:I});T(e.tempToken),q("Neuer Best\xe4tigungscode an Ihre E-Mail-Adresse gesendet"),F(60)}catch(e){q(e.error||"Fehler beim erneuten Senden des Codes")}finally{L(!1)}}};return"2fa"===S?(0,a.jsx)("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center py-4",children:(0,a.jsx)("div",{className:"container login-2fa-page-container",children:(0,a.jsx)("div",{className:"row justify-content-center",children:(0,a.jsxs)("div",{className:"col-md-6 col-lg-5",children:[(0,a.jsx)("div",{className:"card shadow-lg border-0 rounded-3",children:(0,a.jsxs)("div",{className:"card-body p-4 p-md-5",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("h2",{className:"fw-bold text-dark mb-2",children:"2FA-E-Mail-Verifizierung"}),(0,a.jsx)("p",{className:"text-muted mb-0",children:"Wir haben einen 6-stelligen Best\xe4tigungscode an Ihre E-Mail-Adresse gesendet."})]}),(0,a.jsxs)("form",{onSubmit:z,className:"needs-validation",noValidate:!0,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"verificationCode",className:"form-label fw-semibold",children:"Verifizierungscode"}),(0,a.jsx)("div",{className:"input-group input-group-lg",children:(0,a.jsx)("input",{type:"text",className:"form-control form-control-lg text-center fw-bold fs-4",id:"verificationCode",value:k,onChange:e=>E(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,pattern:"[0-9]{6}",required:!0,style:{letterSpacing:"8px",fontFamily:"monospace"}})}),(0,a.jsx)("div",{className:"form-text text-center",children:"Geben Sie den 6-stelligen Code ein, der an Ihre E-Mail-Adresse gesendet wurde."})]}),(0,a.jsx)("div",{className:"d-grid gap-2 mb-3",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg py-3 fw-semibold",disabled:N,children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"\xdcberpr\xfcfen..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-shield-check me-2"}),"Code \xfcberpr\xfcfen"]})})}),(0,a.jsx)("div",{className:"text-center mb-3",children:(0,a.jsx)("button",{type:"button",onClick:Z,disabled:U>0||N,className:"btn btn-outline-primary btn-sm",children:U>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-clock me-2"}),"Erneut senden in ",U,"s"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Code erneut senden"]})})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("button",{type:"button",onClick:()=>{H.push("/de/auth/login"),P("")},className:"btn btn-link text-decoration-none text-muted",children:[(0,a.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Zur\xfcck zur Anmeldung"]})})]}),O&&(0,a.jsxs)("div",{className:"alert ".concat(O.includes("sent")||O.includes("success")?"alert-success alert-dismissible fade show":"alert-danger alert-dismissible fade show"," mt-4"),role:"alert",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsx)("i",{className:"bi ".concat(O.includes("sent")||O.includes("success")?"bi-check-circle-fill":"bi-exclamation-triangle-fill"," me-2")}),(0,a.jsx)("span",{children:O})]}),(0,a.jsx)("button",{type:"button",className:"btn-close",onClick:()=>q("")})]})]})}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)("p",{className:"text-muted small",children:["Haben Sie den Code nicht erhalten? \xdcberpr\xfcfen Sie Ihren Spam-Ordner oder"," ",(0,a.jsx)("a",{href:"/contact-support",className:"text-decoration-none",children:"Support kontaktieren"})]})})]})})})}):(0,a.jsxs)(d.A,{title:"Anmelden",children:[j&&(0,a.jsx)(i.A,{variant:"danger",children:j}),(0,a.jsxs)(l.A,{onSubmit:B,children:[(0,a.jsxs)(l.A.Group,{className:"mb-3",children:[(0,a.jsx)(l.A.Label,{children:"E-Mail"}),(0,a.jsx)(l.A.Control,{type:"email",value:c,onChange:e=>g(e.target.value),isInvalid:!!w.email}),(0,a.jsx)(l.A.Control.Feedback,{type:"invalid",children:w.email})]}),(0,a.jsxs)(l.A.Group,{className:"mb-3",children:[(0,a.jsx)(l.A.Label,{children:"Password"}),(0,a.jsx)(l.A.Control,{type:"password",value:v,onChange:e=>b(e.target.value),isInvalid:!!w.password}),(0,a.jsx)(l.A.Control.Feedback,{type:"invalid",children:w.password})]}),(0,a.jsx)(o.A,{disabled:N,className:"w-100",type:"submit",children:N?"Anmelden...":"Anmelden"})]}),(0,a.jsxs)("div",{className:"w-100 d-flex justify-content-between text-center mt-4",children:[(0,a.jsx)(u(),{href:"/".concat(e,"/auth/forgot-password"),children:"Passwort vergessen?"}),(0,a.jsx)(u(),{href:"/".concat(e,"/auth/register"),children:"Registrieren"})]})]})}},75049:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(95155),r=s(92809),n=s(76355),i=s(6874),l=s.n(i);function o(e){let{children:t,title:s,locale:i="en"}=e;return(0,a.jsx)(r.A,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,a.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[(0,a.jsx)(n.A,{children:(0,a.jsxs)(n.A.Body,{className:"shadow",children:[(0,a.jsx)("h2",{className:"text-center mb-4",children:s}),t]})}),(0,a.jsx)("div",{className:"w-100 text-center mt-2",children:(0,a.jsx)(l(),{href:"/".concat(i,"/auth/login"),children:"Zur\xfcck zur Anmeldung"})})]})})}},76355:(e,t,s)=>{"use strict";s.d(t,{A:()=>N});var a=s(29300),r=s.n(a),n=s(12115),i=s(97390),l=s(95155);let o=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n="div",...o}=e;return a=(0,i.oU)(a,"card-body"),(0,l.jsx)(n,{ref:t,className:r()(s,a),...o})});o.displayName="CardBody";let d=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n="div",...o}=e;return a=(0,i.oU)(a,"card-footer"),(0,l.jsx)(n,{ref:t,className:r()(s,a),...o})});d.displayName="CardFooter";var c=s(18452);let u=n.forwardRef((e,t)=>{let{bsPrefix:s,className:a,as:o="div",...d}=e,u=(0,i.oU)(s,"card-header"),m=(0,n.useMemo)(()=>({cardHeaderBsPrefix:u}),[u]);return(0,l.jsx)(c.A.Provider,{value:m,children:(0,l.jsx)(o,{ref:t,...d,className:r()(a,u)})})});u.displayName="CardHeader";let m=n.forwardRef((e,t)=>{let{bsPrefix:s,className:a,variant:n,as:o="img",...d}=e,c=(0,i.oU)(s,"card-img");return(0,l.jsx)(o,{ref:t,className:r()(n?"".concat(c,"-").concat(n):c,a),...d})});m.displayName="CardImg";let h=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n="div",...o}=e;return a=(0,i.oU)(a,"card-img-overlay"),(0,l.jsx)(n,{ref:t,className:r()(s,a),...o})});h.displayName="CardImgOverlay";let p=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n="a",...o}=e;return a=(0,i.oU)(a,"card-link"),(0,l.jsx)(n,{ref:t,className:r()(s,a),...o})});p.displayName="CardLink";var f=s(58724);let x=(0,f.A)("h6"),g=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n=x,...o}=e;return a=(0,i.oU)(a,"card-subtitle"),(0,l.jsx)(n,{ref:t,className:r()(s,a),...o})});g.displayName="CardSubtitle";let v=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n="p",...o}=e;return a=(0,i.oU)(a,"card-text"),(0,l.jsx)(n,{ref:t,className:r()(s,a),...o})});v.displayName="CardText";let b=(0,f.A)("h5"),j=n.forwardRef((e,t)=>{let{className:s,bsPrefix:a,as:n=b,...o}=e;return a=(0,i.oU)(a,"card-title"),(0,l.jsx)(n,{ref:t,className:r()(s,a),...o})});j.displayName="CardTitle";let A=n.forwardRef((e,t)=>{let{bsPrefix:s,className:a,bg:n,text:d,border:c,body:u=!1,children:m,as:h="div",...p}=e,f=(0,i.oU)(s,"card");return(0,l.jsx)(h,{ref:t,...p,className:r()(a,f,n&&"bg-".concat(n),d&&"text-".concat(d),c&&"border-".concat(c)),children:u?(0,l.jsx)(o,{children:m}):m})});A.displayName="Card";let N=Object.assign(A,{Img:m,Title:j,Subtitle:g,Body:o,Link:p,Text:v,Header:u,Footer:d,ImgOverlay:h})},77335:(e,t,s)=>{"use strict";s.d(t,{G:()=>n,j:()=>r});var a=s(34540);let r=()=>(0,a.wA)(),n=a.d4},89958:(e,t,s)=>{"use strict";s.d(t,{DY:()=>i,Lx:()=>l,al:()=>o,cd:()=>m,forgotPassword:()=>d,ue:()=>h,xw:()=>c,y4:()=>u});var a=s(99572),r=s(96446);let n=new a.Q,i=e=>n.create(r.oi,e),l=e=>n.create(r.wz,e),o=e=>n.get(r.fo,e),d=e=>n.create(r.s_,e),c=e=>n.update(r.Ou+e.token,e),u=()=>n.delete(r.b6),m=e=>n.create(r.GZ,e),h=e=>n.create(r.aV,e)},96446:(e,t,s)=>{"use strict";s.d(t,{F1:()=>r,GZ:()=>p,Hv:()=>n,ND:()=>b,OE:()=>l,OQ:()=>i,Ou:()=>m,W3:()=>o,Zs:()=>a,aF:()=>v,aV:()=>f,b6:()=>h,fo:()=>x,oi:()=>d,p6:()=>A,pY:()=>j,rk:()=>N,s_:()=>u,wz:()=>c,yZ:()=>g});let a="/api/qrcode/generate-qrcode",r="/api/qrcode/get-qrcode-data",n="/api/qrcode/get-qrcode-data-by-admin",i="/api/qrcode/verify-password",l="/api/qrcode/update-qrcode-data",o="/api/qrcode/get-qrcode-page-token",d="/api/auth/register",c="/api/auth/login",u="/api/auth/forgot-password",m="/api/auth/reset-password/",h="/api/auth/logout",p="/api/auth/verify-2fa-login",f="/api/auth/resend-2fa-code",x="/api/auth/verify-email",g="/api/dashboard/get-user-data-by-page",v="/api/dashboard/reset-qrcode-password",b="/api/dashboard/generate-qrcodes-by-count",j="/api/dashboard/get-all-qrcode-urls",A="/api/profile/get-user-profile-data",N="/api/profile/create-user-profile-data"},97612:(e,t,s)=>{"use strict";s.d(t,{i:()=>r});var a=s(61042);let r=()=>{let e=(0,a.d)();return{showSuccess:t=>e(t,"success"),showError:t=>e(t,"error"),showWarning:t=>e(t,"warning"),showInfo:t=>e(t,"info")}}},99572:(e,t,s)=>{"use strict";s.d(t,{Q:()=>o});var a=s(23464),r=s(49509);let n={API_URL:"https://deinetierfamilie.com/",AUTH_BACKEND:"Dummy",FIRE_BASE:{API_KEY:r.env.REACT_APP_APIKEY,AUTH_DOMAIN:r.env.REACT_APP_AUTHDOMAIN,PROJECTID:r.env.REACT_APP_PROJECTID,STORAGEBUCKET:r.env.REACT_APP_STORAGEBUCKET,MESSAGINGSENDERID:r.env.REACT_APP_MESSAGINGSENDERID,APPID:r.env.REACT_APP_APPID}};var i=s(79971);a.A.defaults.baseURL=n.API_URL;let l=n.API_URL;a.A.defaults.headers.post["Content-Type"]="application/json",a.A.interceptors.response.use(function(e){return e.data?e.data:e});class o{request(e){return new Promise((t,s)=>{this._axios.request(e).then(e=>{t(e.data)}).catch(e=>{var t;s((null==(t=e.response)?void 0:t.data)||e.message)})})}constructor(){var e=this;this._axios=a.A.create({baseURL:l,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.logout=()=>{(0,i.setCookie)("auth_token",""),window.location.href="/de/auth/login"},this.addRequestInterceptor=(e,t)=>{this._axios.interceptors.request.use(e,t)},this.addResponseInterceptor=(e,t)=>{this._axios.interceptors.response.use(e,t)},this.get=async function(t,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return e.request({method:"get",url:t,params:s,responseType:a})},this.create=async(e,t)=>await this.request(this.getOptionsConfig("post",e,t)),this.put=async(e,t)=>await this.request(this.getOptionsConfig("put",e,t)),this.update=async(e,t)=>await this.request(this.getOptionsConfig("patch",e,t)),this.delete=async(e,t)=>this.request({method:"delete",url:e,params:t}),this.getOptionsConfig=(e,t,s)=>{let a={"Content-Type":"application/json"};return s instanceof FormData&&(a["Content-Type"]="multipart/form-data"),{method:e,url:t,data:s,headers:a}},this._axios.interceptors.response.use(e=>e,e=>{var t,s,a,r,n,i,l,o;return((null==(t=e.response)?void 0:t.status)===401&&this.logout(),(null==(s=e.response)?void 0:s.status)===400||(null==(a=e.response)?void 0:a.status)===500||(null==(r=e.response)?void 0:r.status)===401)?Promise.resolve(e.response):(((null==(i=e.response)||null==(n=i.data)?void 0:n.message)=="Token is not valid"||(null==(o=e.response)||null==(l=o.data)?void 0:l.message)=="No token, authorization denied")&&this.logout(),Promise.reject(e))})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[54,1911,9110,4816,4540,6874,2471,9835,2420,8441,1684,7358],()=>t(66692)),_N_E=e.O()}]);
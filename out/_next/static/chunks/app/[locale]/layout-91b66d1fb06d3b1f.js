(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450,9958],{29709:(e,t,a)=>{"use strict";a.d(t,{Fk:()=>n,uG:()=>s});let s=()=>localStorage.getItem("user")&&"undefined"!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")||"").role:null,n=()=>localStorage.getItem("user")&&"undefined"!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")||"").id:null},30347:()=>{},33350:()=>{},61042:(e,t,a)=>{"use strict";a.d(t,{SnackbarProvider:()=>c,d:()=>l});var s=a(95155),n=a(12115),o=a(75824),r=a(9665);let i=(0,n.createContext)(null),c=e=>{let{children:t}=e,[a,c]=(0,n.useState)({open:!1,message:"",severity:"info"}),l=()=>c({...a,open:!1});return(0,s.jsxs)(i.Provider,{value:(e,t)=>{c({open:!0,message:e,severity:t})},children:[t,(0,s.jsx)(o.A,{open:a.open,autoHideDuration:3e3,onClose:l,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{top:"80px !important"},children:(0,s.jsx)(r.A,{onClose:l,severity:a.severity,sx:{width:"100%"},children:a.message})})]})},l=()=>(0,n.useContext)(i)},67209:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>r,LA:()=>n,ri:()=>o});let s=(0,a(66439).Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1},reducers:{setCredentials:(e,t)=>{e.token=t.payload.token,e.isAuthenticated=!0},logout:e=>{e.token=null,e.isAuthenticated=!1}}}),{setCredentials:n,logout:o}=s.actions,r=s.reducer},72780:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,15685,23)),Promise.resolve().then(a.bind(a,3264)),Promise.resolve().then(a.bind(a,46096)),Promise.resolve().then(a.t.bind(a,30347,23)),Promise.resolve().then(a.bind(a,96745)),Promise.resolve().then(a.bind(a,92287)),Promise.resolve().then(a.bind(a,61042))},77335:(e,t,a)=>{"use strict";a.d(t,{G:()=>o,j:()=>n});var s=a(34540);let n=()=>(0,s.wA)(),o=s.d4},89958:(e,t,a)=>{"use strict";a.d(t,{DY:()=>r,Lx:()=>i,al:()=>c,cd:()=>u,forgotPassword:()=>l,ue:()=>p,xw:()=>d,y4:()=>h});var s=a(99572),n=a(96446);let o=new s.Q,r=e=>o.create(n.oi,e),i=e=>o.create(n.wz,e),c=e=>o.get(n.fo,e),l=e=>o.create(n.s_,e),d=e=>o.update(n.Ou+e.token,e),h=()=>o.delete(n.b6),u=e=>o.create(n.GZ,e),p=e=>o.create(n.aV,e)},92287:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>v});var s=a(95155),n=a(34540),o=a(97730),r=a(66439),i=a(52),c=a(61328),l=a(18091),d=a(67209);let h=(0,i.HY)({auth:d.Ay}),u={key:"root",storage:l.A,whitelist:["auth"]},p=(0,c.rL)(u,h),g=(0,r.U1)({reducer:p,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST"]}}),devTools:!1}),m=(0,c.GM)(g);function v(e){let{children:t}=e;return(0,s.jsx)(n.Kq,{store:g,children:(0,s.jsx)(o.Q,{loading:null,persistor:m,children:t})})}},96446:(e,t,a)=>{"use strict";a.d(t,{F1:()=>n,GZ:()=>g,Hv:()=>o,ND:()=>f,OE:()=>i,OQ:()=>r,Ou:()=>u,W3:()=>c,Zs:()=>s,aF:()=>A,aV:()=>m,b6:()=>p,fo:()=>v,oi:()=>l,p6:()=>w,pY:()=>b,rk:()=>k,s_:()=>h,wz:()=>d,yZ:()=>x});let s="/api/qrcode/generate-qrcode",n="/api/qrcode/get-qrcode-data",o="/api/qrcode/get-qrcode-data-by-admin",r="/api/qrcode/verify-password",i="/api/qrcode/update-qrcode-data",c="/api/qrcode/get-qrcode-page-token",l="/api/auth/register",d="/api/auth/login",h="/api/auth/forgot-password",u="/api/auth/reset-password/",p="/api/auth/logout",g="/api/auth/verify-2fa-login",m="/api/auth/resend-2fa-code",v="/api/auth/verify-email",x="/api/dashboard/get-user-data-by-page",A="/api/dashboard/reset-qrcode-password",f="/api/dashboard/generate-qrcodes-by-count",b="/api/dashboard/get-all-qrcode-urls",w="/api/profile/get-user-profile-data",k="/api/profile/create-user-profile-data"},96745:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var s=a(95155),n=a(77335),o=a(12115),r=a(35695),i=a(60311),c=a(92809),l=a(49522),d=a(28686),h=a(60902),u=a(6874),p=a.n(u),g=a(89958),m=a(67209),v=a(29709);a(33350);let x=()=>{let e=(0,r.useParams)().locale,t=(0,n.G)(e=>e.auth.isAuthenticated),[a,u]=(0,o.useState)(!1),x=(0,r.useRouter)(),A=(0,r.usePathname)(),f=(0,v.uG)()||"",b=(0,n.j)();(0,o.useEffect)(()=>{t||("/de/profile/"==A&&x.push("/de/auth/login"),"/de/dashboard/"==A&&x.push("/de/auth/login"),"/de/dashboard-user/"==A&&x.push("/de/auth/login"))},[A]);let w=async()=>{try{await (0,g.y4)()&&(b((0,m.ri)()),localStorage.clear(),x.push("/".concat(e,"/auth/login")))}catch(e){console.log(e)}u(!1)};return(0,s.jsx)(i.A,{expand:"md",fixed:"top",className:"header bg-dark-blue",children:(0,s.jsxs)(c.A,{children:[(0,s.jsx)(i.A.Brand,{as:p(),href:"/",children:(0,s.jsx)("img",{src:"https://identqr.de/images/logo-header.png",className:"navbar-logo",alt:"Company Logo"})}),(0,s.jsxs)(i.A.Toggle,{"aria-controls":"offcanvas-navbar",style:{borderColor:"#ffffff80",color:"white",padding:"5px"},onClick:()=>u(!0),children:[" ",(0,s.jsx)("span",{className:"navbar-toggler-icon",style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='white' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")"}})]}),(0,s.jsx)(i.A.Collapse,{id:"basic-navbar-nav",className:"justify-content-end d-none d-md-block",children:t?(0,s.jsxs)(s.Fragment,{children:[0==f&&(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/dashboard-user"),className:"text-white px-3 ".concat(A==="/".concat(e,"/dashboard-user/")?"active":""),children:"Dashboard"}),1==f&&(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/dashboard"),className:"text-white px-3 ".concat(A==="/".concat(e,"/dashboard/")?"active":""),children:"Admin Dashboard"}),(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e),className:"text-white px-3 ".concat(A==="/".concat(e,"/")?"active":""),children:"QRCode scannen"}),(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/profile"),className:"text-white px-3 ".concat(A==="/".concat(e,"/profile/")?"active":""),children:"Profil"}),(0,s.jsx)("span",{className:"text-white px-3 ms-2 cursor-pointer",onClick:w,children:"Abmelden"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e),className:"text-white px-3 ".concat(A==="/".concat(e,"/")?"active":""),children:"QRCode scannen"}),(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/auth/login"),className:"text-white px-3 ".concat(A==="/".concat(e,"/auth/login/")?"active":""),children:"Anmelden"})]})}),(0,s.jsxs)(i.A.Offcanvas,{id:"offcanvas-navbar","aria-labelledby":"offcanvas-navbar-label",placement:"end",show:a,onHide:()=>u(!1),className:"bg-dark-blue d-block d-md-none text-white",children:[(0,s.jsx)(d.A.Header,{closeButton:!0,closeVariant:"white",children:(0,s.jsx)(d.A.Title,{id:"offcanvas-navbar-label",children:"Men\xfc"})}),(0,s.jsx)(d.A.Body,{children:(0,s.jsx)(l.A,{className:"justify-content-end flex-grow-1 pe-3",children:t?(0,s.jsxs)(s.Fragment,{children:[0==f&&(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/dashboard-user"),className:"text-white py-2 ".concat(A==="/".concat(e,"/dashboard-user/")?"active":""),children:"Dashboard"}),1==f&&(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/dashboard"),className:"text-white py-2 ".concat(A==="/".concat(e,"/dashboard/")?"active":""),children:"Admin-Dashboard"}),(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e),className:"text-white py-2 ".concat(A==="/".concat(e,"/")?"active":""),onClick:()=>u(!1),children:"QRCode scannen"}),(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/profile"),className:"text-white py-2 ".concat(A==="/".concat(e,"/profile")?"active":""),onClick:()=>u(!1),children:"Profil"}),(0,s.jsx)(h.A,{variant:"outline-light",onClick:w,className:"w-100 mt-3",children:"Abmelden"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e),className:"text-white px-3 ".concat(A==="/".concat(e,"/")?"active":""),onClick:()=>u(!1),children:"QRCode scannen"}),(0,s.jsx)(l.A.Link,{as:p(),href:"/".concat(e,"/auth/login"),className:"text-white px-3 ".concat(A==="/".concat(e,"/auth/login/")?"active":""),onClick:()=>u(!1),children:"Anmelden"})]})})})]})]})})}},99572:(e,t,a)=>{"use strict";a.d(t,{Q:()=>c});var s=a(23464),n=a(49509);let o={API_URL:"https://deinetierfamilie.com/",AUTH_BACKEND:"Dummy",FIRE_BASE:{API_KEY:n.env.REACT_APP_APIKEY,AUTH_DOMAIN:n.env.REACT_APP_AUTHDOMAIN,PROJECTID:n.env.REACT_APP_PROJECTID,STORAGEBUCKET:n.env.REACT_APP_STORAGEBUCKET,MESSAGINGSENDERID:n.env.REACT_APP_MESSAGINGSENDERID,APPID:n.env.REACT_APP_APPID}};var r=a(79971);s.A.defaults.baseURL=o.API_URL;let i=o.API_URL;s.A.defaults.headers.post["Content-Type"]="application/json",s.A.interceptors.response.use(function(e){return e.data?e.data:e});class c{request(e){return new Promise((t,a)=>{this._axios.request(e).then(e=>{t(e.data)}).catch(e=>{var t;a((null==(t=e.response)?void 0:t.data)||e.message)})})}constructor(){var e=this;this._axios=s.A.create({baseURL:i,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.logout=()=>{(0,r.setCookie)("auth_token",""),window.location.href="/de/auth/login"},this.addRequestInterceptor=(e,t)=>{this._axios.interceptors.request.use(e,t)},this.addResponseInterceptor=(e,t)=>{this._axios.interceptors.response.use(e,t)},this.get=async function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return e.request({method:"get",url:t,params:a,responseType:s})},this.create=async(e,t)=>await this.request(this.getOptionsConfig("post",e,t)),this.put=async(e,t)=>await this.request(this.getOptionsConfig("put",e,t)),this.update=async(e,t)=>await this.request(this.getOptionsConfig("patch",e,t)),this.delete=async(e,t)=>this.request({method:"delete",url:e,params:t}),this.getOptionsConfig=(e,t,a)=>{let s={"Content-Type":"application/json"};return a instanceof FormData&&(s["Content-Type"]="multipart/form-data"),{method:e,url:t,data:a,headers:s}},this._axios.interceptors.response.use(e=>e,e=>{var t,a,s,n,o,r,i,c;return((null==(t=e.response)?void 0:t.status)===401&&this.logout(),(null==(a=e.response)?void 0:a.status)===400||(null==(s=e.response)?void 0:s.status)===500||(null==(n=e.response)?void 0:n.status)===401)?Promise.resolve(e.response):(((null==(r=e.response)||null==(o=r.data)?void 0:o.message)=="Token is not valid"||(null==(c=e.response)||null==(i=c.data)?void 0:i.message)=="No token, authorization denied")&&this.logout(),Promise.reject(e))})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[740,8688,54,1911,9110,4816,4540,6874,2471,151,3385,2420,512,8441,1684,7358],()=>t(72780)),_N_E=e.O()}]);